!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("d3"),require("d3Kit")):"function"==typeof define&&define.amd?define(["d3","d3Kit"],b):"object"==typeof exports?exports.d3Kit=b(require("d3"),require("d3Kit")):a.d3Kit=b(a.d3,a.d3Kit)}(this,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d=c(1),e=c(2),f={margin:{left:10,right:10,top:10,bottom:10},initialWidth:500,initialHeight:340,keyFn:void 0,row:function(a){return a.row},col:function(a){return a.col},text:function(a){return a.key},textColor:"#222",stroke:"#222",fill:"#ccc",opacity:1,textAnchor:"middle",tileWidth:40,tileHeight:40,textSize:"12px",textYOffset:"0.35em"},g=["tileClick","tileMouseover","tileMousemove","tileMouseout"];e.Gridmap=e.factory.createChart(f,g,function(a){function b(){if(!a.hasData())return void g.get("tile").selectAll("g").remove();var b=a.data(),c=g.get("tile").selectAll("g").data(b,e.keyFn),d=c.enter().append("g").on("click",function(a,b){f.tileClick(a,b)}).on("mouseover",function(a,b){f.tileMouseover(a,b)}).on("mousemove",function(a,b){f.tileMousemove(a,b)}).on("mouseout",function(a,b){f.tileMouseout(a,b)}).attr("transform",function(a){return"translate("+e.col(a)*e.tileWidth+","+e.row(a)*e.tileHeight+")"});d.append("rect").attr("vector-effect","non-scaling-stroke").attr("width",e.tileWidth).attr("height",e.tileHeight).style("opacity",e.opacity).style("stroke",e.stroke).style("fill",e.fill),d.append("text").attr("x",e.tileWidth/2).attr("y",e.tileHeight/2).attr("dy",e.textYOffset).style("fill",e.textColor).style("font-size",e.textSize).style("text-anchor",e.textAnchor).text(e.text);var h=c.transition().attr("transform",function(a){return"translate("+e.col(a)*e.tileWidth+","+e.row(a)*e.tileHeight+")"});h.select("rect").attr("width",e.tileWidth).attr("height",e.tileHeight).style("opacity",e.opacity).style("stroke",e.stroke).style("fill",e.fill),h.select("text").attr("x",e.tileWidth/2).attr("y",e.tileHeight/2).attr("dy",e.textYOffset).style("fill",e.textColor).style("font-size",e.textSize).style("text-anchor",e.textAnchor).text(e.text),c.exit().remove()}function c(){if(!a.hasData())return void g.get("tile").selectAll("g").remove();var b=a.data(),c=d.max(b,e.col)+1,f=d.max(b,e.row)+1,h=c*e.tileWidth+e.margin.left+e.margin.right,i=f*e.tileHeight+e.margin.top+e.margin.bottom;return a.dimension([h,i]),a}var e=a.options(),f=a.getDispatcher(),g=a.getLayerOrganizer();return f.on("resize",b),f.on("options",b),f.on("data",b),g.create(["tile"]),a.mixin({visualize:b,resizeToFitMap:c})}),a.exports=e},function(b,c){b.exports=a},function(a,c){a.exports=b}])});